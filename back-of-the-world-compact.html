
</script><head><title>BOtW</title></head><h1>Back Of the World (<span style="font-family:sans-serif;">BOtW</span>)</h1><h2>You have have suddenly transformed into a little blue adventurer who has discovered a really cool place: the so-called BACK OF THE WORLD. Can you, out of pure greed, get all the coins and not carbonise yourself on deadly lava? (well, even if you do, you'll get resurrected pretty quick, so you've got nothing to worry about. This <b><u>is</u></b> a platformer, you know.)</h2><h2>In 5 (extraordinarily hard) levels â€“ scrolls if screen/browser is too small</h2><h3> A game by AetherGush <small>for</small> JS13KGames game competition</h3><style>body{background:#222}h2,h1,h3,h4{color:#999;font-family:serif;text-align:center}.background{table-layout:fixed;border-spacing:0}.background td{padding:0}.lava,.actor{background:#e55}.wall{background:#444;border:solid 3px #333;box-sizing:content-box}.actor{position:absolute}.coin{background:#e2e838;border-radius:50%}.player{background:#335699;box-shadow:none}.lost .player{background:rgb(160,64,64)}.won .player{background:green}.game{position:relative;overflow:hidden}h1{color:white;font-family:cursive;}</style><script>var LEVELS=[["                                                                                ","                                                                                ","                                                                                ","                                                                                ","                                                                                ","                                                                                ","                                                                  xxx           ","                                                   xx      xx    xx!xx          ","                                    o o      xx                  x!!!x          ","                                                                 xx!xx          ","  xxxxxxx                          xxxxx                          x!x           ","  x  x!x                                                                    xx  ","  x   x                                   o o                                x  ","  x                       o                                                    x","  x                                      xxxxx                             o x  ","  x                   o                                                    xxxx ","  x  @                                                           xxxxx       !x ","  xxxxxxxxxxxxxxxxxxxxxxxxxxxxx   xxxxxxxxxxxxxxxxxxxx     xxx!xxx  x!!!!!!!!!x ","                              x   x                  x     x xxx    xxxxxxxxxxx ","                              x!!!x                  x!!!!!x                    ","                              x!!!x                  x!!!!!x                    ","                              xxxxx                  xxxxxxx                    ","                                                                                ","                                                                                "],["                                                                  !!!!!!!                                         ","                                      x!!x                     !!!xxxxxxx!!!                                 x!x  ","                                      x!!x                    !xxxx     xxxx!                                x!x  ","                                      x!!xxxxxxxxxx          !xx           xx                                x!x  ","                                      xx!!!!!!!!!!xx        !xx             xx                               x!x  ","                                       xxxxxxxxxx!!x        !x                                    o   o   o  x!x  ","                                                xx!x        !x     o   o                                    xx!x  ","                                                 x!x        !x                                xxxxxxxxxxxxxxx!!x  ","                                                 x!x         x     x   x                        !!!!!!!!!!!!!!xx  ","                                                            !xx             xx            xxxxxxxxxxxxxxxxxxxxx   ","                                                              xx!!!!!!!!!!!xx                                     ","                                                               xxxx!!!!!xxxx                                      ","                                               x     x      !     xxxxxxx        xxx         xxx                  ","                                               x     xx                          x x         x x                  ","                                               x     !x                            x         x                    ","                                               x     !x                            xx        x                    ","                                               xx    !x                            x         x                    ","                                              xx     !x     o  o     x   x         x         x                    ","               xxxxxxx        xxx   xxx       x!     xx              x   x         x         x                    ","              xx     xx         x   x         x!     x     xxxxxx    x   x   xxxxxxxxx       x                    ","             xx       xx        x o x         x!    xx               x   x   x               x                    ","     @       x         x        x   x         x!     x               x   x   x               x                    ","    xxx      x         x        x   x         xx     x               x   xxxxx   xxxxxx      x                    ","    x x      x         x       xx o xx         x     x               x     o     x x         x                    ","!!!!x x!!!!!!x         x!!!!!!xx     xx!!!!!!!!xx    x!!!!!!!!!!     x           x x         x                    ","!!!!x x!!!!!!x         x!!!!!xx       xxxxxxxxxx     x!!!!!!!xx!     xxxxxxxxxxxxx xx  o o  xx                    ","!!!!x x!!!!!!x         x!!!!!x    o                 xx!!!!!!xx !                    xx     xx                     ","!!!!x x!!!!!!x         x!!!!!x                     xx!!!!!!xx  !                     xxxxxxx                      ","!!!!x x!!!!!!x         x!!!!!xx       xxxxxxxxxxxxxx!!!!!!xx   !                                                  ","!!!!x x!!!!!!x         x!!!!!!xxxxxxxxx!!!!!!!!!!!!!!!!!!xx    !                                                  ","!!!!x x!!!!!!x         x!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!xx     !                                                  "],["                                                                                                              ","                                                                                                              ","                                                                                                              ","                                                                                                              ","                                                                                                              ","                                        o                                                                     ","                                                                                                              ","                                        x                                                                     ","                                        x                                                                     ","                                        x                                                                     ","                                        x                                                                     ","                                       xxx                                                                    ","                                       x!x                 !!!        !!!  xxx                                ","                                       x!x                 !x!        !x!                                     ","                                     xxx!xxx                x          x                                      ","                                      x!!!x                 x   oooo   x       xxx                            ","                                      x!!!x                 x          x      x!!!x                           ","                                      x!!!x                 xxxxxxxxxxxx       xxx                            ","                                     xx!!!xx          x!!!!!x                                                 ","                                      x!!!xxxxxxxxx   xxxxxxx              x x                                ","                                      x!!!x           x                    x!!!x                              ","                                      x!!!x           x                     xxx                               ","                                     xx!!!xx          x                                                       ","                                      x!!!x           x            xxx                                        ","                                      x!!!x           x           x!!!x                                       ","                                      x!!!x           x     o      xxx       xxx                              ","                                     xx!!!xx          x                     x!!!x                             ","                              o   o   x!!!x           x     x                xx         xxx                   ","                                      x!!!x           x              x                 x!!!x                  ","                             xxx xxx xxx!xxx    o o   x!!!!!!!!!!!!!!x                   !x                   ","                             x xxx x x xxx x         !!!!!!!!!!!!!!!!x                                        ","                             x!           !x   xxxxxxxxxxxxxxxxxxxxxxx                                        ","                             xx     o     xx                                         xxx                      ","  xxx                         x     x     x                                         x!!!x                xxx  ","  x x                         x    x!x    x                                          xxx                 x x  ","  x                           x    xxx    xxxxxxx                        xxxxx                             x  ","  x                           x           x                              x   x                             x  ","  x                 o         xx          x                              x x x                             x  ","  x                                       x       oxxxx!    oxxxx!     xxx xxx                             x  ","  x                xxx             o o    x                              x         xxx           o         x  ","  x               xx!xx       xx          x         o         o         xxx       x!!!x          x         x  ","  x               ox!xo       x!!!!xxx!!!!x                             x x        xxx          xxx        x  ","  x                xxx        xxxxxxxxxxxxx  x oo x    x oo x    x oo  xx xx                    xxx        x  ","  x      @  oo      x         x           x!!x    x!!!!x    x!!!!x    xx   xx      ooo           x         x  ","  xxxxxxxxxxxxxxxxxxxxxxxxxxxxx           xxxxxxxxxxxxxxxxxxxxxxxxxxxxx     xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx  ","                                                                                                              ","                                                                                                              "],["                                                                                                  xxx x       ","                                                                                                  !!!!x       ","                                                                                                  xxxxx       ","                                                                                                  x           ","                                                                    !             o               x xxx       ","                          o                                                       o               x x x       ","                                                                                             o o oxxx x       ","                   xxx                                                          x!!!x                 x       ","       !  o  !                                                xxxxx xxxxx xxxxx xxxxx xxxxx xxxxx xxxxx       ","       x     x                                                x   x x   x x   x x   x x   x x   x x           ","       x  o  x            x                                   xxx x xxx x xxx x xxx x xxx x xxx x xxxxx       ","       x     x                                                  x x   x x   x x   x x   x x   x x     x       ","       !  o  !            o                                  xxxx xxxxx xxxxx xxxxx xxxxx xxxxx xxxxxxx       ","                                                                                                              ","          o              xxx              !               xx                           !                      ","                                                                                                              ","                                                                                                              ","    !                                                 xx                                                      ","                   xxx         xxx                            o                                               ","                                                                                                              ","                          o                               oo     oo             x      x                      ","                                                          xx     xx                                           ","             xxx         xxx         xxx                                 x                  x          !      ","                                                                                                              ","                                                  !                                 o                         ","  xxxxxxxxxxx                                                                                                 ","  !         ! o xxxxxxxxx o xxxxxxxxx o xx                                                x                   ","  !         !   !       x   x       x   x                                     x     x                         ","  !  @      xxxxx   o   xxxxx   o   xxxxx                 oo     oo      o                                    ","  xxxxxxx                                     xxxxx       xx     xx     xxx        x!!!!!!!!!!!!!!!!!!!!!!!!!!","        !                                     !   !                               xx!!!!!!!!!!!!!!!!!!!!!!!!!!","        xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!xxx!!!!!!!!!!!!!!!!!!!!!!!!!!","                                                  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","                                                                                                              "],["                                                                                                                        ","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!x                             ","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!x                             ","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!x                             ","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!x                             ","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!x                             ","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!x                             ","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!x                             ","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!x                             ","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!x                             ","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!x                             ","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!x                             ","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx                             ","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!x                                                                ","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!x    ooooooooooooooooooooooooooooooo         o                   ","!!!!xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx    oxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx                   ","!!!!x                                                       ox!!!!!!!!!!!!!!!!!!!!!!!!!!!!x         x                   ","!!!!x             ooooooooooooooooooooooooooooooooooooooooooox!!!!!!!!!!!!!!!!!!!!!!!!!!!!x                             ","!!!!x             oxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx!!!!!!!!!!!!!!!!!!!!!!!!!!!!x                             ","!!!!x             ox!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!x                             ","!!!!x @oooooooooooox!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!x                             ","!!!!xxxxxxxxxxxxxxxx!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!x                             ","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!x                             "]];function Vector(x,o){this.x=x,this.y=o}Vector.prototype.plus=function(x){return new Vector(this.x+x.x,this.y+x.y)},Vector.prototype.times=function(x){return new Vector(this.x*x,this.y*x)};var actorchars={"@":Player,o:Coin,"=":Lava,"|":Lava,v:Lava};function Player(x){this.pos=x.plus(new Vector(0,-.5)),this.size=new Vector(.5,1),this.speed=new Vector(0,0)}function Lava(x,o){this.pos=x,this.size=new Vector(1,1),"="===o?this.speed=new Vector(2,0):"|"===o?this.speed=new Vector(0,2):"v"===o&&(this.speed=new Vector(0,3),this.repeatPos=x)}function Coin(x){this.basePos=this.pos=x,this.size=new Vector(.6,.6),this.wobble=Math.random()*Math.PI*2}function Level(x){this.width=x[0].length,this.height=x.length,this.grid=[],this.actors=[];for(var o=0;o<this.height;o++){for(var t=x[o],e=[],s=0;s<this.width;s++){var i=t[s],r=null,a=actorchars[i];a?this.actors.push(new a(new Vector(s,o),i)):"x"===i?r="wall":"!"===i?r="lava":"|"===i?r="lava":"="===i?r="lava":"v"===i&&(r="lava",console.log(r)),e.push(r)}this.grid.push(e)}this.player=this.actors.filter(function(x){return"player"===x.type})[0],this.status=this.finishDelay=null}function element(x,o){var t=document.createElement(x);return o&&(t.className=o),t}function DOMDisplay(x,o){this.wrap=x.appendChild(element("div","game")),this.level=o,this.wrap.appendChild(this.drawBackground()),this.actorLayer=null,this.drawFrame()}Player.prototype.type="player",Lava.prototype.type="Lava",Coin.prototype.type="coin",Level.prototype.isFinished=function(){return null!=this.status&&this.finishDelay<0};var scale=15;DOMDisplay.prototype.drawBackground=function(){var x=element("table","background");return x.style.width=this.level.width*scale+"px",x.style.height=this.level.height*scale+"px",this.level.grid.forEach(function(o){var t=x.appendChild(element("tr"));t.style.height=scale+"px",o.forEach(function(x){t.appendChild(element("td",x))})}),x},DOMDisplay.prototype.drawActors=function(){var x=element("div");return this.level.actors.forEach(function(o){var t=x.appendChild(element("div","actor "+o.type));t.style.width=o.size.x*scale+"px",t.style.height=o.size.y*scale+"px",t.style.left=o.pos.x*scale+"px",t.style.top=o.pos.y*scale+"px"}),x},DOMDisplay.prototype.drawFrame=function(){this.actorLayer&&this.wrap.removeChild(this.actorLayer),this.actorLayer=this.wrap.appendChild(this.drawActors()),this.wrap.className="game "+(this.level.status||""),this.scrollPlayerIntoView()},DOMDisplay.prototype.scrollPlayerIntoView=function(){var x=this.wrap.clientWidth,o=this.wrap.clientHeight,t=x/3,e=this.wrap.scrollLeft,s=e+x,i=this.wrap.scrollTop,r=i+o,a=this.level.player,n=a.pos.plus(a.size.times(.5)).times(scale);n.x<e+t?this.wrap.scrollLeft=n.x-t:n.x>s-t&&(this.wrap.scrollLeft=n.x+t-x),n.y<i+t?this.wrap.scrollTop=n.y-t:n.y>r-t&&(this.wrap.scrollTop=n.y+t-o)},DOMDisplay.prototype.clear=function(){this.wrap.parentNode.removeChild(this.wrap)},Level.prototype.obstacleAt=function(x,o){var t=Math.floor(x.x),e=Math.ceil(x.x+o.x),s=Math.floor(x.y),i=Math.ceil(x.y+o.y);if(t<0||e>this.width||s<0)return"wall";if(i>this.height)return"lava";for(var r=s;r<i;r++)for(var a=t;a<e;a++){var n=this.grid[r][a];if(n)return n}},Level.prototype.actorAt=function(x){for(var o=0;o<this.actors.length;o++){var t=this.actors[o];if(t!=x&&x.pos.x+x.size.x>t.pos.x&&x.pos.x<t.pos.x+t.size.x&&x.pos.y+x.size.y>t.pos.y&&x.pos.y<t.pos.y+t.size.y)return t}};var maxStep=.05;Level.prototype.animate=function(x,o){for(null!=this.status&&(this.finishDelay-=x);x>0;){var t=Math.min(x,maxStep);this.actors.forEach(function(x){x.act(t,this,o)},this),x-=t}},Lava.prototype.act=function(x,o){var t=this.pos.plus(this.speed.times(x));o.obstacleAt(t,this.size)?this.repeatPos?this.pos=this.repeatPos:this.speed=this.speed.times(-1):this.pos=t};var wobbleSpeed=8,wobbleDist=.07;Coin.prototype.act=function(x){this.wobble+=x*wobbleSpeed;var o=Math.sin(this.wobble)*wobbleDist;this.pos=this.basePos.plus(new Vector(0,o))};var playerXSpeed=10;Player.prototype.moveX=function(x,o,t){this.speed.x=0,t.left&&(this.speed.x-=playerXSpeed),t.right&&(this.speed.x+=playerXSpeed);var e=new Vector(this.speed.x*x,0),s=this.pos.plus(e),i=o.obstacleAt(s,this.size);i?o.playerTouched(i):this.pos=s};var gravity=30,jumpSpeed=17;Player.prototype.moveY=function(x,o,t){this.speed.y+=x*gravity;var e=new Vector(0,this.speed.y*x),s=this.pos.plus(e),i=o.obstacleAt(s,this.size);i?(o.playerTouched(i),t.up&&this.speed.y>0?this.speed.y=-jumpSpeed:this.speed.y=0):this.pos=s},Player.prototype.act=function(x,o,t){this.moveX(x,o,t),this.moveY(x,o,t);var e=o.actorAt(this);e&&o.playerTouched(e.type,e),"lost"==o.status&&(this.pos.y+=x,this.size.y-=x)},Level.prototype.playerTouched=function(x,o){"lava"==x&&null==this.status?(this.status="lost",this.finishDelay=1):"coin"==x&&(this.actors=this.actors.filter(function(x){return x!=o}),this.actors.some(function(x){return"coin"==x.type})||(this.status="won",this.finishDelay=1))};var arrowCodes={37:"left",38:"up",39:"right"};function trackKeys(x){var o=Object.create(null);function t(t){if(x.hasOwnProperty(t.keyCode)){var e="keydown"==t.type;o[x[t.keyCode]]=e,t.preventDefault()}}return addEventListener("keydown",t),addEventListener("keyup",t),o}function runAnimation(x){var o=null;requestAnimationFrame(function t(e){var s=!1;if(null!=o){var i=Math.min(e-o,100)/1e3;s=!1===x(i)}o=e,s||requestAnimationFrame(t)})}var arrows=trackKeys(arrowCodes);function runLevel(x,o,t){var e=new o(document.body,x);runAnimation(function(o){if(x.animate(o,arrows),e.drawFrame(o),x.isFinished())return e.clear(),t&&t(x.status),!1})}function runGame(x,o){!function t(e){runLevel(new Level(x[e]),o,function(o){"lost"==o?t(e):e<x.length-1?t(e+1):alert("Wait. You won? You actually WON this darn thing?\n\nOh.\n\nI was not expecting this. Oh well... Well done, I guess.")})}(0)}runGame(LEVELS,DOMDisplay);</script>
